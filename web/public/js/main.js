(()=>{"use strict";var e,n,t,r,o,c,u={629:(e,n,t)=>{t.a(e,(async(r,o)=>{try{t.d(n,{EF:()=>Q,Ip:()=>X,KQ:()=>H,NT:()=>F,OF:()=>W,Oo:()=>Z,Or:()=>ne,R_:()=>A,TL:()=>C,Wl:()=>B,XP:()=>K,YN:()=>J,ZL:()=>q,_3:()=>M,cb:()=>V,eY:()=>N,mR:()=>L,m_:()=>ee,mm:()=>R,oH:()=>te,pk:()=>I,qc:()=>U,rC:()=>G,sP:()=>z,u:()=>P,ug:()=>k,vm:()=>$,wA:()=>D,xB:()=>Y,xf:()=>j});var c=t(939);e=t.hmd(e);var u=r([c]);c=(u.then?(await u)():u)[0];const i=new Array(32).fill(void 0);function a(e){return i[e]}i.push(void 0,null,!0,!1);let _=i.length;function f(e){e<36||(i[e]=_,_=e)}function b(e){const n=a(e);return f(e),n}function l(e){_===i.length&&i.push(i.length+1);const n=_;return _=i[n],i[n]=e,n}let s=new("undefined"==typeof TextDecoder?(0,e.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});s.decode();let d=null;function g(){return null!==d&&d.buffer===c.memory.buffer||(d=new Uint8Array(c.memory.buffer)),d}function w(e,n){return s.decode(g().subarray(e,e+n))}let m=0,p=new("undefined"==typeof TextEncoder?(0,e.require)("util").TextEncoder:TextEncoder)("utf-8");const y="function"==typeof p.encodeInto?function(e,n){return p.encodeInto(e,n)}:function(e,n){const t=p.encode(e);return n.set(t),{read:e.length,written:t.length}};function h(e,n,t){if(void 0===t){const t=p.encode(e),r=n(t.length);return g().subarray(r,r+t.length).set(t),m=t.length,r}let r=e.length,o=n(r);const c=g();let u=0;for(;u<r;u++){const n=e.charCodeAt(u);if(n>127)break;c[o+u]=n}if(u!==r){0!==u&&(e=e.slice(u)),o=t(o,r,r=u+3*e.length);const n=g().subarray(o+u,o+r);u+=y(e,n).written}return m=u,o}let v=null;function x(e,n){const t=n(4*e.length);return(null!==v&&v.buffer===c.memory.buffer||(v=new Uint32Array(c.memory.buffer)),v).set(e,t/4),m=e.length,t}let E=null;function T(){return null!==E&&E.buffer===c.memory.buffer||(E=new Int32Array(c.memory.buffer)),E}function A(e,n,t){try{const u=c.__wbindgen_add_to_stack_pointer(-16),i=h(e,c.__wbindgen_malloc,c.__wbindgen_realloc),a=m,_=x(n,c.__wbindgen_malloc),f=m;c.generate(u,i,a,_,f,t);var r=T()[u/4+0],o=T()[u/4+1];return w(r,o)}finally{c.__wbindgen_add_to_stack_pointer(16),c.__wbindgen_free(r,o)}}function O(e,n){try{return e.apply(this,n)}catch(e){c.__wbindgen_exn_store(l(e))}}function S(e,n){return g().subarray(e/1,e/1+n)}function j(e,n){alert(w(e,n))}function k(e){b(e)}function I(e){return l(a(e).process)}function B(e){const n=a(e);return"object"==typeof n&&null!==n}function P(e){return l(a(e).versions)}function F(e){return l(a(e).node)}function N(e){return"string"==typeof a(e)}function U(){return O((function(e,n,t){return l(a(e).require(w(n,t)))}),arguments)}function L(e){return l(a(e).crypto)}function q(e){return l(a(e).msCrypto)}function z(){return O((function(e,n){a(e).getRandomValues(a(n))}),arguments)}function D(){return l(e)}function R(){return O((function(e,n,t){a(e).randomFillSync(S(n,t))}),arguments)}function C(e,n){return l(new Function(w(e,n)))}function M(){return O((function(e,n){return l(a(e).call(a(n)))}),arguments)}function W(){return O((function(){return l(self.self)}),arguments)}function Y(){return O((function(){return l(window.window)}),arguments)}function H(){return O((function(){return l(globalThis.globalThis)}),arguments)}function $(){return O((function(){return l(t.g.global)}),arguments)}function K(e){return void 0===a(e)}function Q(e){return l(a(e).buffer)}function V(e){return l(new Uint8Array(a(e)))}function X(e,n,t){a(e).set(a(n),t>>>0)}function Z(e){return a(e).length}function G(e){return l(new Uint8Array(e>>>0))}function J(e,n,t){return l(a(e).subarray(n>>>0,t>>>0))}function ee(e){return l(a(e))}function ne(e,n){throw new Error(w(e,n))}function te(){return l(c.memory)}o()}catch(re){o(re)}}))},607:(e,n,t)=>{t.a(e,(async(e,n)=>{try{var r=t(629),o=e([r]);r=(o.then?(await o)():o)[0];var c=document.getElementById("maze-options"),u=document.getElementById("maze-type"),i=document.getElementById("maze-width"),a=document.getElementById("maze-height"),_=document.getElementById("maze");c.addEventListener("submit",(function(e){var n;if(e.preventDefault(),"rectangle"!==u.children[u.selectedIndex].value)throw new Error("Unknown maze type");var t=i.valueAsNumber,o=a.valueAsNumber,c=[t/2,0],f=[t/2,o-1],b=Uint32Array.of(t,o,f[0],f[1],c[0],c[1]);n=r.R_("rectangle",b,50),console.log(n),_.innerHTML=n})),n()}catch(e){n(e)}}))},939:(e,n,t)=>{t.a(e,(async(r,o)=>{try{var c,u=r([c=t(629)]),[c]=u.then?(await u)():u;await t.v(n,e.id,"9e679e9bc9a3282113e1",{"./generator_bg.js":{__wbg_alert_d6054d59342dcbb7:c.xf,__wbindgen_object_drop_ref:c.ug,__wbg_process_70251ed1291754d5:c.pk,__wbindgen_is_object:c.Wl,__wbg_versions_b23f2588cdb2ddbb:c.u,__wbg_node_61b8c9a82499895d:c.NT,__wbindgen_is_string:c.eY,__wbg_require_2a93bc09fee45aca:c.qc,__wbg_crypto_2f56257a38275dbd:c.mR,__wbg_msCrypto_d07655bf62361f21:c.ZL,__wbg_getRandomValues_fb6b088efb6bead2:c.sP,__wbg_static_accessor_NODE_MODULE_33b45247c55045b0:c.wA,__wbg_randomFillSync_654a7797990fb8db:c.mm,__wbg_newnoargs_e23b458e372830de:c.TL,__wbg_call_ae78342adc33730a:c._3,__wbg_self_99737b4dcdf6f0d8:c.OF,__wbg_window_9b61fbbf3564c4fb:c.xB,__wbg_globalThis_8e275ef40caea3a3:c.KQ,__wbg_global_5de1e0f82bddcd27:c.vm,__wbindgen_is_undefined:c.XP,__wbg_buffer_7af23f65f6c64548:c.EF,__wbg_new_cc9018bd6f283b6f:c.cb,__wbg_set_f25e869e4565d2a2:c.Ip,__wbg_length_0acb1cf9bbaf8519:c.Oo,__wbg_newwithlength_8f0657faca9f1422:c.rC,__wbg_subarray_da527dbd24eafb6b:c.YN,__wbindgen_object_clone_ref:c.m_,__wbindgen_throw:c.Or,__wbindgen_memory:c.oH}}),o()}catch(e){o(e)}}),1)}},i={};function a(e){var n=i[e];if(void 0!==n)return n.exports;var t=i[e]={id:e,loaded:!1,exports:{}};return u[e](t,t.exports,a),t.loaded=!0,t.exports}e="function"==typeof Symbol?Symbol("webpack then"):"__webpack_then__",n="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",t="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&(e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},o=e=>!--e.r&&e(),c=(e,n)=>e?e.push(n):o(n),a.a=(u,i,a)=>{var _,f,b,l=a&&[],s=u.exports,d=!0,g=!1,w=(n,t,r)=>{g||(g=!0,t.r+=n.length,n.map(((n,o)=>n[e](t,r))),g=!1)},m=new Promise(((e,n)=>{b=n,f=()=>(e(s),r(l),l=0)}));m[n]=s,m[e]=(e,n)=>{if(d)return o(e);_&&w(_,e,n),c(l,e),m.catch(n)},u.exports=m,i((u=>{var i;_=(u=>u.map((u=>{if(null!==u&&"object"==typeof u){if(u[e])return u;if(u.then){var i=[];u.then((e=>{a[n]=e,r(i),i=0}),(e=>{a[t]=e,r(i),i=0}));var a={};return a[e]=(e,n)=>(c(i,e),u.catch(n)),a}}var _={};return _[e]=e=>o(e),_[n]=u,_})))(u);var a=()=>_.map((e=>{if(e[t])throw e[t];return e[n]})),f=new Promise(((e,n)=>{(i=()=>e(a)).r=0,w(_,i,n)}));return i.r?f:a()}),(e=>(e&&b(m[t]=e),f()))),d=!1},a.d=(e,n)=>{for(var t in n)a.o(n,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),a.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),a.v=(e,n,t,r)=>{var o=fetch(a.p+""+t+".module.wasm");return"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(o,r).then((n=>Object.assign(e,n.instance.exports))):o.then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,r))).then((n=>Object.assign(e,n.instance.exports)))},(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var n=a.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var t=n.getElementsByTagName("script");t.length&&(e=t[t.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),a(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWU3RixLQUFLekYsRUFBS29MLEdDQWxGOUMsRUFBb0JpRCxFQUFJLENBQUM5QyxFQUFTK0MsRUFBY0MsRUFBZ0JDLEtBQy9ELElBQUlDLEVBQU1DLE1BQU10RCxFQUFvQnVELEVBQUksR0FBS0osRUFBaUIsZ0JBQzlELE1BQWdELG1CQUFyQ0ssWUFBWUMscUJBQ2ZELFlBQVlDLHFCQUFxQkosRUFBS0QsR0FDM0NwQixNQUFNMEIsR0FBU2xCLE9BQU9tQixPQUFPeEQsRUFBU3VELEVBQUlFLFNBQVN6RCxXQUUvQ2tELEVBQ0xyQixNQUFNNkIsR0FBT0EsRUFBRUMsZ0JBQ2Y5QixNQUFNK0IsR0FBV1AsWUFBWVEsWUFBWUQsRUFBT1gsS0FDaERwQixNQUFNMEIsR0FBU2xCLE9BQU9tQixPQUFPeEQsRUFBU3VELEVBQUlFLFNBQVN6RCxZLE1DVHRELElBQUk4RCxFQUNBakUsRUFBb0JyQyxFQUFFdUcsZ0JBQWVELEVBQVlqRSxFQUFvQnJDLEVBQUV3RyxTQUFXLElBQ3RGLElBQUkxRixFQUFXdUIsRUFBb0JyQyxFQUFFYyxTQUNyQyxJQUFLd0YsR0FBYXhGLElBQ2JBLEVBQVMyRixnQkFDWkgsRUFBWXhGLEVBQVMyRixjQUFjQyxNQUMvQkosR0FBVyxDQUNmLElBQUlLLEVBQVU3RixFQUFTOEYscUJBQXFCLFVBQ3pDRCxFQUFRak4sU0FBUTRNLEVBQVlLLEVBQVFBLEVBQVFqTixPQUFTLEdBQUdnTixLQUs3RCxJQUFLSixFQUFXLE1BQU0sSUFBSTNGLE1BQU0seURBQ2hDMkYsRUFBWUEsRUFBVU8sUUFBUSxPQUFRLElBQUlBLFFBQVEsUUFBUyxJQUFJQSxRQUFRLFlBQWEsS0FDcEZ4RSxFQUFvQnVELEVBQUlVLEcsR0NaRWpFLEVBQW9CLE0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvd2VicGFjay9ydW50aW1lL2FzeW5jIG1vZHVsZSIsIndlYnBhY2s6Ly93ZWIvLi4vZ2VuZXJhdG9yL3BrZy9nZW5lcmF0b3JfYmcuanMiLCJ3ZWJwYWNrOi8vd2ViLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL3dlYi93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly93ZWIvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3dlYi93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL3dlYi93ZWJwYWNrL3J1bnRpbWUvaGFybW9ueSBtb2R1bGUgZGVjb3JhdG9yIiwid2VicGFjazovL3dlYi93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3dlYi93ZWJwYWNrL3J1bnRpbWUvd2FzbSBsb2FkaW5nIiwid2VicGFjazovL3dlYi93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly93ZWIvd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbInZhciB3ZWJwYWNrVGhlbiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiA/IFN5bWJvbChcIndlYnBhY2sgdGhlblwiKSA6IFwiX193ZWJwYWNrX3RoZW5fX1wiO1xudmFyIHdlYnBhY2tFeHBvcnRzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiID8gU3ltYm9sKFwid2VicGFjayBleHBvcnRzXCIpIDogXCJfX3dlYnBhY2tfZXhwb3J0c19fXCI7XG52YXIgd2VicGFja0Vycm9yID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiID8gU3ltYm9sKFwid2VicGFjayBlcnJvclwiKSA6IFwiX193ZWJwYWNrX2Vycm9yX19cIjtcbnZhciBjb21wbGV0ZVF1ZXVlID0gKHF1ZXVlKSA9PiB7XG5cdGlmKHF1ZXVlKSB7XG5cdFx0cXVldWUuZm9yRWFjaCgoZm4pID0+IChmbi5yLS0pKTtcblx0XHRxdWV1ZS5mb3JFYWNoKChmbikgPT4gKGZuLnItLSA/IGZuLnIrKyA6IGZuKCkpKTtcblx0fVxufVxudmFyIGNvbXBsZXRlRnVuY3Rpb24gPSAoZm4pID0+ICghLS1mbi5yICYmIGZuKCkpO1xudmFyIHF1ZXVlRnVuY3Rpb24gPSAocXVldWUsIGZuKSA9PiAocXVldWUgPyBxdWV1ZS5wdXNoKGZuKSA6IGNvbXBsZXRlRnVuY3Rpb24oZm4pKTtcbnZhciB3cmFwRGVwcyA9IChkZXBzKSA9PiAoZGVwcy5tYXAoKGRlcCkgPT4ge1xuXHRpZihkZXAgIT09IG51bGwgJiYgdHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIikge1xuXHRcdGlmKGRlcFt3ZWJwYWNrVGhlbl0pIHJldHVybiBkZXA7XG5cdFx0aWYoZGVwLnRoZW4pIHtcblx0XHRcdHZhciBxdWV1ZSA9IFtdO1xuXHRcdFx0ZGVwLnRoZW4oKHIpID0+IHtcblx0XHRcdFx0b2JqW3dlYnBhY2tFeHBvcnRzXSA9IHI7XG5cdFx0XHRcdGNvbXBsZXRlUXVldWUocXVldWUpO1xuXHRcdFx0XHRxdWV1ZSA9IDA7XG5cdFx0XHR9LCAoZSkgPT4ge1xuXHRcdFx0XHRvYmpbd2VicGFja0Vycm9yXSA9IGU7XG5cdFx0XHRcdGNvbXBsZXRlUXVldWUocXVldWUpO1xuXHRcdFx0XHRxdWV1ZSA9IDA7XG5cdFx0XHR9KTtcblx0XHRcdHZhciBvYmogPSB7fTtcblx0XHRcdG9ialt3ZWJwYWNrVGhlbl0gPSAoZm4sIHJlamVjdCkgPT4gKHF1ZXVlRnVuY3Rpb24ocXVldWUsIGZuKSwgZGVwWydjYXRjaCddKHJlamVjdCkpO1xuXHRcdFx0cmV0dXJuIG9iajtcblx0XHR9XG5cdH1cblx0dmFyIHJldCA9IHt9O1xuXHRyZXRbd2VicGFja1RoZW5dID0gKGZuKSA9PiAoY29tcGxldGVGdW5jdGlvbihmbikpO1xuXHRyZXRbd2VicGFja0V4cG9ydHNdID0gZGVwO1xuXHRyZXR1cm4gcmV0O1xufSkpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5hID0gKG1vZHVsZSwgYm9keSwgaGFzQXdhaXQpID0+IHtcblx0dmFyIHF1ZXVlID0gaGFzQXdhaXQgJiYgW107XG5cdHZhciBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHM7XG5cdHZhciBjdXJyZW50RGVwcztcblx0dmFyIG91dGVyUmVzb2x2ZTtcblx0dmFyIHJlamVjdDtcblx0dmFyIGlzRXZhbHVhdGluZyA9IHRydWU7XG5cdHZhciBuZXN0ZWQgPSBmYWxzZTtcblx0dmFyIHdoZW5BbGwgPSAoZGVwcywgb25SZXNvbHZlLCBvblJlamVjdCkgPT4ge1xuXHRcdGlmIChuZXN0ZWQpIHJldHVybjtcblx0XHRuZXN0ZWQgPSB0cnVlO1xuXHRcdG9uUmVzb2x2ZS5yICs9IGRlcHMubGVuZ3RoO1xuXHRcdGRlcHMubWFwKChkZXAsIGkpID0+IChkZXBbd2VicGFja1RoZW5dKG9uUmVzb2x2ZSwgb25SZWplY3QpKSk7XG5cdFx0bmVzdGVkID0gZmFsc2U7XG5cdH07XG5cdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlaikgPT4ge1xuXHRcdHJlamVjdCA9IHJlajtcblx0XHRvdXRlclJlc29sdmUgPSAoKSA9PiAocmVzb2x2ZShleHBvcnRzKSwgY29tcGxldGVRdWV1ZShxdWV1ZSksIHF1ZXVlID0gMCk7XG5cdH0pO1xuXHRwcm9taXNlW3dlYnBhY2tFeHBvcnRzXSA9IGV4cG9ydHM7XG5cdHByb21pc2Vbd2VicGFja1RoZW5dID0gKGZuLCByZWplY3RGbikgPT4ge1xuXHRcdGlmIChpc0V2YWx1YXRpbmcpIHsgcmV0dXJuIGNvbXBsZXRlRnVuY3Rpb24oZm4pOyB9XG5cdFx0aWYgKGN1cnJlbnREZXBzKSB3aGVuQWxsKGN1cnJlbnREZXBzLCBmbiwgcmVqZWN0Rm4pO1xuXHRcdHF1ZXVlRnVuY3Rpb24ocXVldWUsIGZuKTtcblx0XHRwcm9taXNlWydjYXRjaCddKHJlamVjdEZuKTtcblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBwcm9taXNlO1xuXHRib2R5KChkZXBzKSA9PiB7XG5cdFx0Y3VycmVudERlcHMgPSB3cmFwRGVwcyhkZXBzKTtcblx0XHR2YXIgZm47XG5cdFx0dmFyIGdldFJlc3VsdCA9ICgpID0+IChjdXJyZW50RGVwcy5tYXAoKGQpID0+IHtcblx0XHRcdGlmKGRbd2VicGFja0Vycm9yXSkgdGhyb3cgZFt3ZWJwYWNrRXJyb3JdO1xuXHRcdFx0cmV0dXJuIGRbd2VicGFja0V4cG9ydHNdO1xuXHRcdH0pKVxuXHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0Zm4gPSAoKSA9PiAocmVzb2x2ZShnZXRSZXN1bHQpKTtcblx0XHRcdGZuLnIgPSAwO1xuXHRcdFx0d2hlbkFsbChjdXJyZW50RGVwcywgZm4sIHJlamVjdCk7XG5cdFx0fSk7XG5cdFx0cmV0dXJuIGZuLnIgPyBwcm9taXNlIDogZ2V0UmVzdWx0KCk7XG5cdH0sIChlcnIpID0+IChlcnIgJiYgcmVqZWN0KHByb21pc2Vbd2VicGFja0Vycm9yXSA9IGVyciksIG91dGVyUmVzb2x2ZSgpKSk7XG5cdGlzRXZhbHVhdGluZyA9IGZhbHNlO1xufTsiLCJpbXBvcnQgKiBhcyB3YXNtIGZyb20gJy4vZ2VuZXJhdG9yX2JnLndhc20nO1xuXG5jb25zdCBoZWFwID0gbmV3IEFycmF5KDMyKS5maWxsKHVuZGVmaW5lZCk7XG5cbmhlYXAucHVzaCh1bmRlZmluZWQsIG51bGwsIHRydWUsIGZhbHNlKTtcblxuZnVuY3Rpb24gZ2V0T2JqZWN0KGlkeCkgeyByZXR1cm4gaGVhcFtpZHhdOyB9XG5cbmxldCBoZWFwX25leHQgPSBoZWFwLmxlbmd0aDtcblxuZnVuY3Rpb24gZHJvcE9iamVjdChpZHgpIHtcbiAgICBpZiAoaWR4IDwgMzYpIHJldHVybjtcbiAgICBoZWFwW2lkeF0gPSBoZWFwX25leHQ7XG4gICAgaGVhcF9uZXh0ID0gaWR4O1xufVxuXG5mdW5jdGlvbiB0YWtlT2JqZWN0KGlkeCkge1xuICAgIGNvbnN0IHJldCA9IGdldE9iamVjdChpZHgpO1xuICAgIGRyb3BPYmplY3QoaWR4KTtcbiAgICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBhZGRIZWFwT2JqZWN0KG9iaikge1xuICAgIGlmIChoZWFwX25leHQgPT09IGhlYXAubGVuZ3RoKSBoZWFwLnB1c2goaGVhcC5sZW5ndGggKyAxKTtcbiAgICBjb25zdCBpZHggPSBoZWFwX25leHQ7XG4gICAgaGVhcF9uZXh0ID0gaGVhcFtpZHhdO1xuXG4gICAgaGVhcFtpZHhdID0gb2JqO1xuICAgIHJldHVybiBpZHg7XG59XG5cbmNvbnN0IGxUZXh0RGVjb2RlciA9IHR5cGVvZiBUZXh0RGVjb2RlciA9PT0gJ3VuZGVmaW5lZCcgPyAoMCwgbW9kdWxlLnJlcXVpcmUpKCd1dGlsJykuVGV4dERlY29kZXIgOiBUZXh0RGVjb2RlcjtcblxubGV0IGNhY2hlZFRleHREZWNvZGVyID0gbmV3IGxUZXh0RGVjb2RlcigndXRmLTgnLCB7IGlnbm9yZUJPTTogdHJ1ZSwgZmF0YWw6IHRydWUgfSk7XG5cbmNhY2hlZFRleHREZWNvZGVyLmRlY29kZSgpO1xuXG5sZXQgY2FjaGVnZXRVaW50OE1lbW9yeTAgPSBudWxsO1xuZnVuY3Rpb24gZ2V0VWludDhNZW1vcnkwKCkge1xuICAgIGlmIChjYWNoZWdldFVpbnQ4TWVtb3J5MCA9PT0gbnVsbCB8fCBjYWNoZWdldFVpbnQ4TWVtb3J5MC5idWZmZXIgIT09IHdhc20ubWVtb3J5LmJ1ZmZlcikge1xuICAgICAgICBjYWNoZWdldFVpbnQ4TWVtb3J5MCA9IG5ldyBVaW50OEFycmF5KHdhc20ubWVtb3J5LmJ1ZmZlcik7XG4gICAgfVxuICAgIHJldHVybiBjYWNoZWdldFVpbnQ4TWVtb3J5MDtcbn1cblxuZnVuY3Rpb24gZ2V0U3RyaW5nRnJvbVdhc20wKHB0ciwgbGVuKSB7XG4gICAgcmV0dXJuIGNhY2hlZFRleHREZWNvZGVyLmRlY29kZShnZXRVaW50OE1lbW9yeTAoKS5zdWJhcnJheShwdHIsIHB0ciArIGxlbikpO1xufVxuLyoqXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGdyZWV0KCkge1xuICAgIHdhc20uZ3JlZXQoKTtcbn1cblxubGV0IFdBU01fVkVDVE9SX0xFTiA9IDA7XG5cbmNvbnN0IGxUZXh0RW5jb2RlciA9IHR5cGVvZiBUZXh0RW5jb2RlciA9PT0gJ3VuZGVmaW5lZCcgPyAoMCwgbW9kdWxlLnJlcXVpcmUpKCd1dGlsJykuVGV4dEVuY29kZXIgOiBUZXh0RW5jb2RlcjtcblxubGV0IGNhY2hlZFRleHRFbmNvZGVyID0gbmV3IGxUZXh0RW5jb2RlcigndXRmLTgnKTtcblxuY29uc3QgZW5jb2RlU3RyaW5nID0gKHR5cGVvZiBjYWNoZWRUZXh0RW5jb2Rlci5lbmNvZGVJbnRvID09PSAnZnVuY3Rpb24nXG4gICAgPyBmdW5jdGlvbiAoYXJnLCB2aWV3KSB7XG4gICAgcmV0dXJuIGNhY2hlZFRleHRFbmNvZGVyLmVuY29kZUludG8oYXJnLCB2aWV3KTtcbn1cbiAgICA6IGZ1bmN0aW9uIChhcmcsIHZpZXcpIHtcbiAgICBjb25zdCBidWYgPSBjYWNoZWRUZXh0RW5jb2Rlci5lbmNvZGUoYXJnKTtcbiAgICB2aWV3LnNldChidWYpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlYWQ6IGFyZy5sZW5ndGgsXG4gICAgICAgIHdyaXR0ZW46IGJ1Zi5sZW5ndGhcbiAgICB9O1xufSk7XG5cbmZ1bmN0aW9uIHBhc3NTdHJpbmdUb1dhc20wKGFyZywgbWFsbG9jLCByZWFsbG9jKSB7XG5cbiAgICBpZiAocmVhbGxvYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IGJ1ZiA9IGNhY2hlZFRleHRFbmNvZGVyLmVuY29kZShhcmcpO1xuICAgICAgICBjb25zdCBwdHIgPSBtYWxsb2MoYnVmLmxlbmd0aCk7XG4gICAgICAgIGdldFVpbnQ4TWVtb3J5MCgpLnN1YmFycmF5KHB0ciwgcHRyICsgYnVmLmxlbmd0aCkuc2V0KGJ1Zik7XG4gICAgICAgIFdBU01fVkVDVE9SX0xFTiA9IGJ1Zi5sZW5ndGg7XG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfVxuXG4gICAgbGV0IGxlbiA9IGFyZy5sZW5ndGg7XG4gICAgbGV0IHB0ciA9IG1hbGxvYyhsZW4pO1xuXG4gICAgY29uc3QgbWVtID0gZ2V0VWludDhNZW1vcnkwKCk7XG5cbiAgICBsZXQgb2Zmc2V0ID0gMDtcblxuICAgIGZvciAoOyBvZmZzZXQgPCBsZW47IG9mZnNldCsrKSB7XG4gICAgICAgIGNvbnN0IGNvZGUgPSBhcmcuY2hhckNvZGVBdChvZmZzZXQpO1xuICAgICAgICBpZiAoY29kZSA+IDB4N0YpIGJyZWFrO1xuICAgICAgICBtZW1bcHRyICsgb2Zmc2V0XSA9IGNvZGU7XG4gICAgfVxuXG4gICAgaWYgKG9mZnNldCAhPT0gbGVuKSB7XG4gICAgICAgIGlmIChvZmZzZXQgIT09IDApIHtcbiAgICAgICAgICAgIGFyZyA9IGFyZy5zbGljZShvZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIHB0ciA9IHJlYWxsb2MocHRyLCBsZW4sIGxlbiA9IG9mZnNldCArIGFyZy5sZW5ndGggKiAzKTtcbiAgICAgICAgY29uc3QgdmlldyA9IGdldFVpbnQ4TWVtb3J5MCgpLnN1YmFycmF5KHB0ciArIG9mZnNldCwgcHRyICsgbGVuKTtcbiAgICAgICAgY29uc3QgcmV0ID0gZW5jb2RlU3RyaW5nKGFyZywgdmlldyk7XG5cbiAgICAgICAgb2Zmc2V0ICs9IHJldC53cml0dGVuO1xuICAgIH1cblxuICAgIFdBU01fVkVDVE9SX0xFTiA9IG9mZnNldDtcbiAgICByZXR1cm4gcHRyO1xufVxuXG5sZXQgY2FjaGVnZXRVaW50MzJNZW1vcnkwID0gbnVsbDtcbmZ1bmN0aW9uIGdldFVpbnQzMk1lbW9yeTAoKSB7XG4gICAgaWYgKGNhY2hlZ2V0VWludDMyTWVtb3J5MCA9PT0gbnVsbCB8fCBjYWNoZWdldFVpbnQzMk1lbW9yeTAuYnVmZmVyICE9PSB3YXNtLm1lbW9yeS5idWZmZXIpIHtcbiAgICAgICAgY2FjaGVnZXRVaW50MzJNZW1vcnkwID0gbmV3IFVpbnQzMkFycmF5KHdhc20ubWVtb3J5LmJ1ZmZlcik7XG4gICAgfVxuICAgIHJldHVybiBjYWNoZWdldFVpbnQzMk1lbW9yeTA7XG59XG5cbmZ1bmN0aW9uIHBhc3NBcnJheTMyVG9XYXNtMChhcmcsIG1hbGxvYykge1xuICAgIGNvbnN0IHB0ciA9IG1hbGxvYyhhcmcubGVuZ3RoICogNCk7XG4gICAgZ2V0VWludDMyTWVtb3J5MCgpLnNldChhcmcsIHB0ciAvIDQpO1xuICAgIFdBU01fVkVDVE9SX0xFTiA9IGFyZy5sZW5ndGg7XG4gICAgcmV0dXJuIHB0cjtcbn1cblxubGV0IGNhY2hlZ2V0SW50MzJNZW1vcnkwID0gbnVsbDtcbmZ1bmN0aW9uIGdldEludDMyTWVtb3J5MCgpIHtcbiAgICBpZiAoY2FjaGVnZXRJbnQzMk1lbW9yeTAgPT09IG51bGwgfHwgY2FjaGVnZXRJbnQzMk1lbW9yeTAuYnVmZmVyICE9PSB3YXNtLm1lbW9yeS5idWZmZXIpIHtcbiAgICAgICAgY2FjaGVnZXRJbnQzMk1lbW9yeTAgPSBuZXcgSW50MzJBcnJheSh3YXNtLm1lbW9yeS5idWZmZXIpO1xuICAgIH1cbiAgICByZXR1cm4gY2FjaGVnZXRJbnQzMk1lbW9yeTA7XG59XG4vKipcbiogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZFxuKiBAcGFyYW0ge1VpbnQzMkFycmF5fSBzaXplXG4qIEBwYXJhbSB7bnVtYmVyfSBjZWxsX3NpemVcbiogQHJldHVybnMge3N0cmluZ31cbiovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGUobWV0aG9kLCBzaXplLCBjZWxsX3NpemUpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXRwdHIgPSB3YXNtLl9fd2JpbmRnZW5fYWRkX3RvX3N0YWNrX3BvaW50ZXIoLTE2KTtcbiAgICAgICAgY29uc3QgcHRyMCA9IHBhc3NTdHJpbmdUb1dhc20wKG1ldGhvZCwgd2FzbS5fX3diaW5kZ2VuX21hbGxvYywgd2FzbS5fX3diaW5kZ2VuX3JlYWxsb2MpO1xuICAgICAgICBjb25zdCBsZW4wID0gV0FTTV9WRUNUT1JfTEVOO1xuICAgICAgICBjb25zdCBwdHIxID0gcGFzc0FycmF5MzJUb1dhc20wKHNpemUsIHdhc20uX193YmluZGdlbl9tYWxsb2MpO1xuICAgICAgICBjb25zdCBsZW4xID0gV0FTTV9WRUNUT1JfTEVOO1xuICAgICAgICB3YXNtLmdlbmVyYXRlKHJldHB0ciwgcHRyMCwgbGVuMCwgcHRyMSwgbGVuMSwgY2VsbF9zaXplKTtcbiAgICAgICAgdmFyIHIwID0gZ2V0SW50MzJNZW1vcnkwKClbcmV0cHRyIC8gNCArIDBdO1xuICAgICAgICB2YXIgcjEgPSBnZXRJbnQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMV07XG4gICAgICAgIHJldHVybiBnZXRTdHJpbmdGcm9tV2FzbTAocjAsIHIxKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgICB3YXNtLl9fd2JpbmRnZW5fYWRkX3RvX3N0YWNrX3BvaW50ZXIoMTYpO1xuICAgICAgICB3YXNtLl9fd2JpbmRnZW5fZnJlZShyMCwgcjEpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlRXJyb3IoZiwgYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBmLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2V4bl9zdG9yZShhZGRIZWFwT2JqZWN0KGUpKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldEFycmF5VThGcm9tV2FzbTAocHRyLCBsZW4pIHtcbiAgICByZXR1cm4gZ2V0VWludDhNZW1vcnkwKCkuc3ViYXJyYXkocHRyIC8gMSwgcHRyIC8gMSArIGxlbik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3diZ19hbGVydF9kNjA1NGQ1OTM0MmRjYmI3KGFyZzAsIGFyZzEpIHtcbiAgICBhbGVydChnZXRTdHJpbmdGcm9tV2FzbTAoYXJnMCwgYXJnMSkpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fd2JpbmRnZW5fb2JqZWN0X2Ryb3BfcmVmKGFyZzApIHtcbiAgICB0YWtlT2JqZWN0KGFyZzApO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fd2JnX3Byb2Nlc3NfNzAyNTFlZDEyOTE3NTRkNShhcmcwKSB7XG4gICAgY29uc3QgcmV0ID0gZ2V0T2JqZWN0KGFyZzApLnByb2Nlc3M7XG4gICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3diaW5kZ2VuX2lzX29iamVjdChhcmcwKSB7XG4gICAgY29uc3QgdmFsID0gZ2V0T2JqZWN0KGFyZzApO1xuICAgIGNvbnN0IHJldCA9IHR5cGVvZih2YWwpID09PSAnb2JqZWN0JyAmJiB2YWwgIT09IG51bGw7XG4gICAgcmV0dXJuIHJldDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3diZ192ZXJzaW9uc19iMjNmMjU4OGNkYjJkZGJiKGFyZzApIHtcbiAgICBjb25zdCByZXQgPSBnZXRPYmplY3QoYXJnMCkudmVyc2lvbnM7XG4gICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3diZ19ub2RlXzYxYjhjOWE4MjQ5OTg5NWQoYXJnMCkge1xuICAgIGNvbnN0IHJldCA9IGdldE9iamVjdChhcmcwKS5ub2RlO1xuICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX193YmluZGdlbl9pc19zdHJpbmcoYXJnMCkge1xuICAgIGNvbnN0IHJldCA9IHR5cGVvZihnZXRPYmplY3QoYXJnMCkpID09PSAnc3RyaW5nJztcbiAgICByZXR1cm4gcmV0O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fd2JnX3JlcXVpcmVfMmE5M2JjMDlmZWU0NWFjYSgpIHsgcmV0dXJuIGhhbmRsZUVycm9yKGZ1bmN0aW9uIChhcmcwLCBhcmcxLCBhcmcyKSB7XG4gICAgY29uc3QgcmV0ID0gZ2V0T2JqZWN0KGFyZzApLnJlcXVpcmUoZ2V0U3RyaW5nRnJvbVdhc20wKGFyZzEsIGFyZzIpKTtcbiAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xufSwgYXJndW1lbnRzKSB9O1xuXG5leHBvcnQgZnVuY3Rpb24gX193YmdfY3J5cHRvXzJmNTYyNTdhMzgyNzVkYmQoYXJnMCkge1xuICAgIGNvbnN0IHJldCA9IGdldE9iamVjdChhcmcwKS5jcnlwdG87XG4gICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3diZ19tc0NyeXB0b19kMDc2NTViZjYyMzYxZjIxKGFyZzApIHtcbiAgICBjb25zdCByZXQgPSBnZXRPYmplY3QoYXJnMCkubXNDcnlwdG87XG4gICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3diZ19nZXRSYW5kb21WYWx1ZXNfZmI2YjA4OGVmYjZiZWFkMigpIHsgcmV0dXJuIGhhbmRsZUVycm9yKGZ1bmN0aW9uIChhcmcwLCBhcmcxKSB7XG4gICAgZ2V0T2JqZWN0KGFyZzApLmdldFJhbmRvbVZhbHVlcyhnZXRPYmplY3QoYXJnMSkpO1xufSwgYXJndW1lbnRzKSB9O1xuXG5leHBvcnQgZnVuY3Rpb24gX193Ymdfc3RhdGljX2FjY2Vzc29yX05PREVfTU9EVUxFXzMzYjQ1MjQ3YzU1MDQ1YjAoKSB7XG4gICAgY29uc3QgcmV0ID0gbW9kdWxlO1xuICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX193YmdfcmFuZG9tRmlsbFN5bmNfNjU0YTc3OTc5OTBmYjhkYigpIHsgcmV0dXJuIGhhbmRsZUVycm9yKGZ1bmN0aW9uIChhcmcwLCBhcmcxLCBhcmcyKSB7XG4gICAgZ2V0T2JqZWN0KGFyZzApLnJhbmRvbUZpbGxTeW5jKGdldEFycmF5VThGcm9tV2FzbTAoYXJnMSwgYXJnMikpO1xufSwgYXJndW1lbnRzKSB9O1xuXG5leHBvcnQgZnVuY3Rpb24gX193YmdfbmV3bm9hcmdzX2UyM2I0NThlMzcyODMwZGUoYXJnMCwgYXJnMSkge1xuICAgIGNvbnN0IHJldCA9IG5ldyBGdW5jdGlvbihnZXRTdHJpbmdGcm9tV2FzbTAoYXJnMCwgYXJnMSkpO1xuICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX193YmdfY2FsbF9hZTc4MzQyYWRjMzM3MzBhKCkgeyByZXR1cm4gaGFuZGxlRXJyb3IoZnVuY3Rpb24gKGFyZzAsIGFyZzEpIHtcbiAgICBjb25zdCByZXQgPSBnZXRPYmplY3QoYXJnMCkuY2FsbChnZXRPYmplY3QoYXJnMSkpO1xuICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG59LCBhcmd1bWVudHMpIH07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3diZ19zZWxmXzk5NzM3YjRkY2RmNmYwZDgoKSB7IHJldHVybiBoYW5kbGVFcnJvcihmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgcmV0ID0gc2VsZi5zZWxmO1xuICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG59LCBhcmd1bWVudHMpIH07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3diZ193aW5kb3dfOWI2MWZiYmYzNTY0YzRmYigpIHsgcmV0dXJuIGhhbmRsZUVycm9yKGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCByZXQgPSB3aW5kb3cud2luZG93O1xuICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG59LCBhcmd1bWVudHMpIH07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3diZ19nbG9iYWxUaGlzXzhlMjc1ZWY0MGNhZWEzYTMoKSB7IHJldHVybiBoYW5kbGVFcnJvcihmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgcmV0ID0gZ2xvYmFsVGhpcy5nbG9iYWxUaGlzO1xuICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG59LCBhcmd1bWVudHMpIH07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3diZ19nbG9iYWxfNWRlMWUwZjgyYmRkY2QyNygpIHsgcmV0dXJuIGhhbmRsZUVycm9yKGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCByZXQgPSBnbG9iYWwuZ2xvYmFsO1xuICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG59LCBhcmd1bWVudHMpIH07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3diaW5kZ2VuX2lzX3VuZGVmaW5lZChhcmcwKSB7XG4gICAgY29uc3QgcmV0ID0gZ2V0T2JqZWN0KGFyZzApID09PSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHJldDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3diZ19idWZmZXJfN2FmMjNmNjVmNmM2NDU0OChhcmcwKSB7XG4gICAgY29uc3QgcmV0ID0gZ2V0T2JqZWN0KGFyZzApLmJ1ZmZlcjtcbiAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fd2JnX25ld19jYzkwMThiZDZmMjgzYjZmKGFyZzApIHtcbiAgICBjb25zdCByZXQgPSBuZXcgVWludDhBcnJheShnZXRPYmplY3QoYXJnMCkpO1xuICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX193Ymdfc2V0X2YyNWU4NjllNDU2NWQyYTIoYXJnMCwgYXJnMSwgYXJnMikge1xuICAgIGdldE9iamVjdChhcmcwKS5zZXQoZ2V0T2JqZWN0KGFyZzEpLCBhcmcyID4+PiAwKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3diZ19sZW5ndGhfMGFjYjFjZjliYmFmODUxOShhcmcwKSB7XG4gICAgY29uc3QgcmV0ID0gZ2V0T2JqZWN0KGFyZzApLmxlbmd0aDtcbiAgICByZXR1cm4gcmV0O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fd2JnX25ld3dpdGhsZW5ndGhfOGYwNjU3ZmFjYTlmMTQyMihhcmcwKSB7XG4gICAgY29uc3QgcmV0ID0gbmV3IFVpbnQ4QXJyYXkoYXJnMCA+Pj4gMCk7XG4gICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3diZ19zdWJhcnJheV9kYTUyN2RiZDI0ZWFmYjZiKGFyZzAsIGFyZzEsIGFyZzIpIHtcbiAgICBjb25zdCByZXQgPSBnZXRPYmplY3QoYXJnMCkuc3ViYXJyYXkoYXJnMSA+Pj4gMCwgYXJnMiA+Pj4gMCk7XG4gICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3diaW5kZ2VuX29iamVjdF9jbG9uZV9yZWYoYXJnMCkge1xuICAgIGNvbnN0IHJldCA9IGdldE9iamVjdChhcmcwKTtcbiAgICByZXR1cm4gYWRkSGVhcE9iamVjdChyZXQpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fd2JpbmRnZW5fdGhyb3coYXJnMCwgYXJnMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihnZXRTdHJpbmdGcm9tV2FzbTAoYXJnMCwgYXJnMSkpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fd2JpbmRnZW5fbWVtb3J5KCkge1xuICAgIGNvbnN0IHJldCA9IHdhc20ubWVtb3J5O1xuICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG59O1xuXG4iLCJpbXBvcnQgKiBhcyBnZW5lcmF0b3IgZnJvbSAnZ2VuZXJhdG9yJztcclxuXHJcbi8vIENvbnN0YW50c1xyXG5jb25zdCBkZWZhdWx0Q2VsbFNpemUgPSA1MDtcclxuXHJcbi8vIGdldCBlbGVtZW50cyBmcm9tIERPTVxyXG5jb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hemUtb3B0aW9ucycpIGFzIEhUTUxGb3JtRWxlbWVudDtcclxuY29uc3QgbWF6ZVR5cGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWF6ZS10eXBlJykgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XHJcbmNvbnN0IG1hemVXaWR0aCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXplLXdpZHRoJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuY29uc3QgbWF6ZUhlaWdodCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXplLWhlaWdodCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbmNvbnN0IG1hemVDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWF6ZScpIGFzIEhUTUxEaXZFbGVtZW50O1xyXG5cclxuZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZlbnQpID0+IHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgbGV0IG1hemU7XHJcblxyXG4gICAgc3dpdGNoICgobWF6ZVR5cGUuY2hpbGRyZW5bbWF6ZVR5cGUuc2VsZWN0ZWRJbmRleF0gYXMgSFRNTE9wdGlvbkVsZW1lbnQpLnZhbHVlKSB7XHJcbiAgICAgICAgY2FzZSAncmVjdGFuZ2xlJzpcclxuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBtYXplV2lkdGgudmFsdWVBc051bWJlcjtcclxuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gbWF6ZUhlaWdodC52YWx1ZUFzTnVtYmVyO1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBbd2lkdGggLyAyLCAwXTtcclxuICAgICAgICAgICAgY29uc3QgZW5kID0gW3dpZHRoIC8gMiwgaGVpZ2h0IC0gMV07XHJcblxyXG4gICAgICAgICAgICBjb25zdCBzaXplID0gVWludDMyQXJyYXkub2Yod2lkdGgsIGhlaWdodCwgZW5kWzBdISwgZW5kWzFdISwgc3RhcnRbMF0hLCBzdGFydFsxXSEpXHJcblxyXG4gICAgICAgICAgICBtYXplID0gZ2VuZXJhdG9yLmdlbmVyYXRlKFwicmVjdGFuZ2xlXCIsIHNpemUsIGRlZmF1bHRDZWxsU2l6ZSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gbWF6ZSB0eXBlJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2cobWF6ZSk7XHJcblxyXG4gICAgbWF6ZUNvbnRhaW5lci5pbm5lckhUTUwgPSBtYXplO1xyXG59KSIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdGxvYWRlZDogZmFsc2UsXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuXHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5obWQgPSAobW9kdWxlKSA9PiB7XG5cdG1vZHVsZSA9IE9iamVjdC5jcmVhdGUobW9kdWxlKTtcblx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCAnZXhwb3J0cycsIHtcblx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdHNldDogKCkgPT4ge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdFUyBNb2R1bGVzIG1heSBub3QgYXNzaWduIG1vZHVsZS5leHBvcnRzIG9yIGV4cG9ydHMuKiwgVXNlIEVTTSBleHBvcnQgc3ludGF4LCBpbnN0ZWFkOiAnICsgbW9kdWxlLmlkKTtcblx0XHR9XG5cdH0pO1xuXHRyZXR1cm4gbW9kdWxlO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiX193ZWJwYWNrX3JlcXVpcmVfXy52ID0gKGV4cG9ydHMsIHdhc21Nb2R1bGVJZCwgd2FzbU1vZHVsZUhhc2gsIGltcG9ydHNPYmopID0+IHtcblx0dmFyIHJlcSA9IGZldGNoKF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyB3YXNtTW9kdWxlSGFzaCArIFwiLm1vZHVsZS53YXNtXCIpO1xuXHRpZiAodHlwZW9mIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0cmV0dXJuIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nKHJlcSwgaW1wb3J0c09iailcblx0XHRcdC50aGVuKChyZXMpID0+IChPYmplY3QuYXNzaWduKGV4cG9ydHMsIHJlcy5pbnN0YW5jZS5leHBvcnRzKSkpO1xuXHR9XG5cdHJldHVybiByZXFcblx0XHQudGhlbigoeCkgPT4gKHguYXJyYXlCdWZmZXIoKSkpXG5cdFx0LnRoZW4oKGJ5dGVzKSA9PiAoV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUoYnl0ZXMsIGltcG9ydHNPYmopKSlcblx0XHQudGhlbigocmVzKSA9PiAoT2JqZWN0LmFzc2lnbihleHBvcnRzLCByZXMuaW5zdGFuY2UuZXhwb3J0cykpKTtcbn07IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIHVzZWQgJ21vZHVsZScgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwNyk7XG4iXSwibmFtZXMiOlsid2VicGFja1RoZW4iLCJ3ZWJwYWNrRXhwb3J0cyIsIndlYnBhY2tFcnJvciIsImNvbXBsZXRlUXVldWUiLCJjb21wbGV0ZUZ1bmN0aW9uIiwicXVldWVGdW5jdGlvbiIsImhlYXAiLCJBcnJheSIsImZpbGwiLCJ1bmRlZmluZWQiLCJnZXRPYmplY3QiLCJpZHgiLCJwdXNoIiwiaGVhcF9uZXh0IiwibGVuZ3RoIiwiZHJvcE9iamVjdCIsInRha2VPYmplY3QiLCJyZXQiLCJhZGRIZWFwT2JqZWN0Iiwib2JqIiwiY2FjaGVkVGV4dERlY29kZXIiLCJUZXh0RGVjb2RlciIsIm1vZHVsZSIsInJlcXVpcmUiLCJpZ25vcmVCT00iLCJmYXRhbCIsImRlY29kZSIsImNhY2hlZ2V0VWludDhNZW1vcnkwIiwiZ2V0VWludDhNZW1vcnkwIiwiYnVmZmVyIiwiVWludDhBcnJheSIsImdldFN0cmluZ0Zyb21XYXNtMCIsInB0ciIsImxlbiIsInN1YmFycmF5IiwiV0FTTV9WRUNUT1JfTEVOIiwiY2FjaGVkVGV4dEVuY29kZXIiLCJUZXh0RW5jb2RlciIsImVuY29kZVN0cmluZyIsImVuY29kZUludG8iLCJhcmciLCJ2aWV3IiwiYnVmIiwiZW5jb2RlIiwic2V0IiwicmVhZCIsIndyaXR0ZW4iLCJwYXNzU3RyaW5nVG9XYXNtMCIsIm1hbGxvYyIsInJlYWxsb2MiLCJtZW0iLCJvZmZzZXQiLCJjb2RlIiwiY2hhckNvZGVBdCIsInNsaWNlIiwiY2FjaGVnZXRVaW50MzJNZW1vcnkwIiwicGFzc0FycmF5MzJUb1dhc20wIiwiVWludDMyQXJyYXkiLCJjYWNoZWdldEludDMyTWVtb3J5MCIsImdldEludDMyTWVtb3J5MCIsIkludDMyQXJyYXkiLCJnZW5lcmF0ZSIsIm1ldGhvZCIsInNpemUiLCJjZWxsX3NpemUiLCJyZXRwdHIiLCJwdHIwIiwibGVuMCIsInB0cjEiLCJsZW4xIiwicjAiLCJyMSIsImhhbmRsZUVycm9yIiwiZiIsImFyZ3MiLCJhcHBseSIsInRoaXMiLCJlIiwiZ2V0QXJyYXlVOEZyb21XYXNtMCIsIl9fd2JnX2FsZXJ0X2Q2MDU0ZDU5MzQyZGNiYjciLCJhcmcwIiwiYXJnMSIsImFsZXJ0IiwiX193YmluZGdlbl9vYmplY3RfZHJvcF9yZWYiLCJfX3diZ19wcm9jZXNzXzcwMjUxZWQxMjkxNzU0ZDUiLCJwcm9jZXNzIiwiX193YmluZGdlbl9pc19vYmplY3QiLCJ2YWwiLCJfX3diZ192ZXJzaW9uc19iMjNmMjU4OGNkYjJkZGJiIiwidmVyc2lvbnMiLCJfX3diZ19ub2RlXzYxYjhjOWE4MjQ5OTg5NWQiLCJub2RlIiwiX193YmluZGdlbl9pc19zdHJpbmciLCJfX3diZ19yZXF1aXJlXzJhOTNiYzA5ZmVlNDVhY2EiLCJhcmcyIiwiYXJndW1lbnRzIiwiX193YmdfY3J5cHRvXzJmNTYyNTdhMzgyNzVkYmQiLCJjcnlwdG8iLCJfX3diZ19tc0NyeXB0b19kMDc2NTViZjYyMzYxZjIxIiwibXNDcnlwdG8iLCJfX3diZ19nZXRSYW5kb21WYWx1ZXNfZmI2YjA4OGVmYjZiZWFkMiIsImdldFJhbmRvbVZhbHVlcyIsIl9fd2JnX3N0YXRpY19hY2Nlc3Nvcl9OT0RFX01PRFVMRV8zM2I0NTI0N2M1NTA0NWIwIiwiX193YmdfcmFuZG9tRmlsbFN5bmNfNjU0YTc3OTc5OTBmYjhkYiIsInJhbmRvbUZpbGxTeW5jIiwiX193YmdfbmV3bm9hcmdzX2UyM2I0NThlMzcyODMwZGUiLCJGdW5jdGlvbiIsIl9fd2JnX2NhbGxfYWU3ODM0MmFkYzMzNzMwYSIsImNhbGwiLCJfX3diZ19zZWxmXzk5NzM3YjRkY2RmNmYwZDgiLCJzZWxmIiwiX193Ymdfd2luZG93XzliNjFmYmJmMzU2NGM0ZmIiLCJ3aW5kb3ciLCJfX3diZ19nbG9iYWxUaGlzXzhlMjc1ZWY0MGNhZWEzYTMiLCJnbG9iYWxUaGlzIiwiX193YmdfZ2xvYmFsXzVkZTFlMGY4MmJkZGNkMjciLCJnIiwiZ2xvYmFsIiwiX193YmluZGdlbl9pc191bmRlZmluZWQiLCJfX3diZ19idWZmZXJfN2FmMjNmNjVmNmM2NDU0OCIsIl9fd2JnX25ld19jYzkwMThiZDZmMjgzYjZmIiwiX193Ymdfc2V0X2YyNWU4NjllNDU2NWQyYTIiLCJfX3diZ19sZW5ndGhfMGFjYjFjZjliYmFmODUxOSIsIl9fd2JnX25ld3dpdGhsZW5ndGhfOGYwNjU3ZmFjYTlmMTQyMiIsIl9fd2JnX3N1YmFycmF5X2RhNTI3ZGJkMjRlYWZiNmIiLCJfX3diaW5kZ2VuX29iamVjdF9jbG9uZV9yZWYiLCJfX3diaW5kZ2VuX3Rocm93IiwiRXJyb3IiLCJfX3diaW5kZ2VuX21lbW9yeSIsImZvcm0iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwibWF6ZVR5cGUiLCJtYXplV2lkdGgiLCJtYXplSGVpZ2h0IiwibWF6ZUNvbnRhaW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsIm1hemUiLCJwcmV2ZW50RGVmYXVsdCIsImNoaWxkcmVuIiwic2VsZWN0ZWRJbmRleCIsInZhbHVlIiwid2lkdGgiLCJ2YWx1ZUFzTnVtYmVyIiwiaGVpZ2h0Iiwic3RhcnQiLCJlbmQiLCJvZiIsImNvbnNvbGUiLCJsb2ciLCJpbm5lckhUTUwiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJleHBvcnRzIiwiaWQiLCJsb2FkZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiU3ltYm9sIiwicXVldWUiLCJmb3JFYWNoIiwiZm4iLCJyIiwiYSIsImJvZHkiLCJoYXNBd2FpdCIsImN1cnJlbnREZXBzIiwib3V0ZXJSZXNvbHZlIiwicmVqZWN0IiwiaXNFdmFsdWF0aW5nIiwibmVzdGVkIiwid2hlbkFsbCIsImRlcHMiLCJvblJlc29sdmUiLCJvblJlamVjdCIsIm1hcCIsImRlcCIsImkiLCJwcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWoiLCJyZWplY3RGbiIsInRoZW4iLCJ3cmFwRGVwcyIsImdldFJlc3VsdCIsImQiLCJlcnIiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsImhtZCIsImNyZWF0ZSIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInYiLCJ3YXNtTW9kdWxlSWQiLCJ3YXNtTW9kdWxlSGFzaCIsImltcG9ydHNPYmoiLCJyZXEiLCJmZXRjaCIsInAiLCJXZWJBc3NlbWJseSIsImluc3RhbnRpYXRlU3RyZWFtaW5nIiwicmVzIiwiYXNzaWduIiwiaW5zdGFuY2UiLCJ4IiwiYXJyYXlCdWZmZXIiLCJieXRlcyIsImluc3RhbnRpYXRlIiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiY3VycmVudFNjcmlwdCIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInJlcGxhY2UiXSwic291cmNlUm9vdCI6IiJ9